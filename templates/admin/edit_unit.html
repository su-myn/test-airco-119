{% extends "admin/layout.html" %}

{% block title %}Edit Unit{% endblock %}

{% block content %}
<div class="admin-card">
    <h2>Edit Unit</h2>

    <form method="post" class="admin-form">
        <div class="form-group">
            <label for="unit_number">Unit Number/Name</label>
            <input type="text" id="unit_number" name="unit_number" value="{{ unit.unit_number }}" required>
        </div>

        <div class="form-group">
            <label for="building">Building</label>
            <input type="text" id="building" name="building" value="{{ unit.building }}">
        </div>

        <div class="form-group">
            <label for="floor">Floor</label>
            <input type="number" id="floor" name="floor" value="{{ unit.floor }}">
        </div>

        <div class="form-group">
            <label for="description">Description</label>
            <input type="text" id="description" name="description" value="{{ unit.description }}">
        </div>

        <div class="form-group">
            <label for="company_id">Company</label>
            <select id="company_id" name="company_id" required>
                {% for company in companies %}
                <option value="{{ company.id }}" {{ 'selected' if company.id == unit.company_id else '' }}>{{ company.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="toilet_count">Toilet Count</label>
            <input type="number" id="toilet_count" name="toilet_count" min="0" value="{{ unit.toilet_count or '' }}">
        </div>

        <div class="form-group">
            <label for="towel_count">Towel Count</label>
            <input type="number" id="towel_count" name="towel_count" min="0" value="{{ unit.towel_count or '' }}">
        </div>

        <div class="form-group">
            <label for="max_pax">Maximum Occupants (Pax)</label>
            <input type="number" id="max_pax" name="max_pax" min="1" value="{{ unit.max_pax or '' }}">
        </div>
        <div class="form-group" style="display: flex; align-items: center;">
            <input type="checkbox" id="is_occupied" name="is_occupied" style="width: auto; margin-right: 10px;" {{ 'checked' if unit.is_occupied else '' }}>
            <label for="is_occupied">Is Occupied</label>
        </div>

        <div style="display: flex; gap: 10px; margin-top: 20px;">
            <button type="submit" class="admin-btn">Update Unit</button>
            <a href="{{ url_for('admin.admin_units') }}" class="admin-btn secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}